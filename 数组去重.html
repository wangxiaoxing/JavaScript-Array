<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    Array.prototype.uniq = function () {
        var result=[];
        var flag=true;
        for(var i=0;i<this.length;i++){
                if((result.indexOf(this[i]))==-1){
                    //针对NaN
                    if(this[i]!==this[i]){
                        if(flag){
                            result.push(this[i]);
                            flag=false;
                        }
                    }else {
                        result.push(this[i]);
                    }
                }
            }
        return result;
    }
    var arr=[false, true, undefined, null, NaN, 0, 1, {}, {}, 'a', 'a', NaN];
    console.log(arr.uniq());
    
    //利用set数据结构去重,结果与方法一相同,在set内部，两个NaN是相等的，两个对象总是不相等的
    const s=new Set();
    [false, true, undefined, null, NaN, 0, 1, {}, {}, 'a', 'a', NaN].forEach(x=>s.add(x));
    //将set转换为数组
    let result=[...s];
    console.log(result);

    //更加简单的写法
    const set=[...new Set([false, true, undefined, null, NaN, 0, 1, {}, {}, 'a', 'a', NaN])];
    console.log(set);

    //还有一种写法
    const array=Array.from(new Set([false, true, undefined, null, NaN, 0, 1, {}, {}, 'a', 'a', NaN]));
    console.log(array);
</script>
</body>
</html>
